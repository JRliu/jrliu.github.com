webpackJsonp([1,0],[function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var n=o(1),s=a(n),i=o(29),c=a(i),r=o(34),u=a(r),d=o(35),l=a(d),p=o(3),v=(a(p),o(2)),f=a(v),_=o(30),m=a(_),b=o(33),h=a(b);o(21),o(5),s["default"].use(u["default"]),s["default"].use(l["default"]);var g=new l["default"]({hashbang:!0,transitionOnLoad:!0});g.map({"/:tab":{name:"tab",component:f["default"],subRoutes:{"/:page":{name:"page",component:f["default"]}}},"/topic/:id":{name:"topic",component:m["default"]},"/user/:username":{name:"user",component:h["default"]}}),g.redirect({"*":"/all"}),g.start(c["default"],"#app")},,function(t,e,o){var a,n;o(18),a=o(11),n=o(26),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},,function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var n=o(1),s=a(n);s["default"].filter("tabName",function(t){return 1==t.good?"精华":1==t.top?"置顶":"share"==t.tab?"分享":"ask"==t.tab?"提问":"job"==t.tab?"招聘":void 0}),s["default"].filter("last_reply_at",function(t){var e=new Date(t);e=e.getTime();var o=new Date;o=o.getTime();var a=o-e,n=6e4,s=60*n,i=24*s,c=30*i,r=12*c,u=a/n,d=a/s,l=a/i,p=a/c,v=a/r;return v>=1?parseInt(v)+"年前":p>=1?parseInt(p)+"个月前":l>=1?parseInt(l)+"天前":d>=1?parseInt(d)+"小时前":u>=1?parseInt(u)+"分钟前":"刚刚"})},function(t,e){"use strict";!function(t){function e(){var t=a.getBoundingClientRect().width;t>640&&(t=640);var e=t/6.4;a.style.fontSize=e+"px"}var o=t.document,a=o.documentElement;t.addEventListener("resize",function(){e()},!1),t.addEventListener("pageshow",function(t){t.persisted&&e()},!1),e()}(window)},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),s=a(n),i=o(3),c=a(i);s["default"].use(c["default"]),e["default"]=new c["default"].Store({state:{topics:"",page:1},mutations:{SAVE_TOPICS:function(t,e){t.topics=e,t.page=1,t.page++},MORE_TOPICS:function(t,e){t.page++,t.topics=t.topics.concat(e)}}})},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),s=(a(n),o(6)),i=a(s),c=o(32),r=a(c),u=o(2),d=a(u),l=o(31),p=a(l);o(4),e["default"]={components:{VueHeader:r["default"],Topics:d["default"],GoTop:p["default"]},store:i["default"]}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),s=a(n);o(14),e["default"]={data:function(){return{id:this.$route.params.id,author:"",data:""}},ready:function(){var t=this;document.documentElement.scrollTop=document.body.scrollTop=0,this.$http({url:"https://cnodejs.org/api/v1/topic/"+this.$route.params.id,method:"GET"}).then(function(e){var o=e.body.data;s["default"].set(t,"data",o);for(var a in o)s["default"].set(t,a,o[a])})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{scrollTop:"",show:!1,onscroll:!1,opacity:this.staticOpacity}},props:{scrollTo:{type:Number,"default":0},screenNum:{type:Number,"default":4},scrollOpacity:{type:Number,"default":.2},staticOpacity:{type:Number,"default":.8},top:{type:String},right:{type:String,"default":"0px"},bottom:{type:String,"default":"50px"},left:{type:String}},ready:function(){var t=this;window.onscroll=function(){t.opacity=t.scrollOpacity;var e=document.documentElement.scrollTop||document.body.scrollTop,o=function(){(document.body.scrollTop||document.documentElement.scrollTop==e)&&(t.opacity=t.staticOpacity)};setTimeout(o,1e3),document.documentElement.scrollTop||document.body.scrollTop>window.screen.height*t.screenNum?t.show=!0:t.show=!1}},methods:{scroll_To:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=this;setTimeout(function(){var o=document.body.scrollTop||document.documentElement.scrollTop,a=40;if(t>o){var n=Math.ceil((t-o)/a),s=o+n;s<t?(window.scrollTo(0,s),scroll_To(t)):window.scrollTo(0,t)}else{var n=Math.floor((t-o)/a),s=o+n;s>t?(window.scrollTo(0,s),e.scroll_To(t)):window.scrollTo(0,t)}},1)})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{}}}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),s=(a(n),o(22));o(13),e["default"]={components:{MtLoadmore:s.Loadmore},data:function(){return{tabs:[{cn:"全部",en:"all"},{cn:"精华",en:"good"},{cn:"分享",en:"share"},{cn:"提问",en:"ask"},{cn:"招聘",en:"job"}]}},computed:{tabName:function(){return this.$route.params.tab}},ready:function(){""==this.topics&&this.getTopics()},methods:{get:function(t,e,o){this.$http({method:"GET",url:"https://cnodejs.org/api/v1/topics",params:{tab:this.$route.params.tab,page:t}}).then(function(t){e(t)})["catch"](function(t){o(t)})},getTopics:function(){var t=this,e=1,o=function(e){t.saveTopics(e.body.data)},a=function(t){console.warn(t)};this.get(e,o,a)},loadMore:function(t){var e=this,o=this.page,a=function(o){setTimeout(function(){e.moreTopics(o.body.data),e.$broadcast("onBottomLoaded",t)},300)},n=function(t){console.warn(t)};this.get(o,a,n)},refresh:function(t){var e=this,o=1,a=function(o){setTimeout(function(){e.saveTopics(o.body.data),e.$broadcast("onTopLoaded",t)},300)},n=function(t){console.warn(t)};this.get(o,a,n)},changeTab:function(t){var e=this;setTimeout(function(){e.getTopics()},20)}},vuex:{getters:{topics:function(t){return t.topics},page:function(t){return t.page}},actions:{saveTopics:function(t,e){var o=t.dispatch;o("SAVE_TOPICS",e)},moreTopics:function(t,e){var o=t.dispatch;o("MORE_TOPICS",e)}}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{username:this.$route.params.username,user:"",active:""}},ready:function(){var t=this,e=this.username,o=function(e){t.$set("user",e.data.data),t.$set("active",e.data.data.recent_replies)},a=function(t){console.warn(t)};this.get(e,o,a)},methods:{get:function(t,e,o){this.$http({method:"GET",url:"https://cnodejs.org/api/v1/user/"+t}).then(function(t){e(t)})["catch"](function(t){o(t)})},changeTab:function(t){this.$set("active",this.user[t])},changeUser:function(t){var e=this;this.user="";var o=function(t){e.$set("user",t.data.data),e.$set("active",t.data.data.recent_replies)},a=function(t){console.warn(t)};this.get(t,o,a)}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e){t.exports=" <div id=app> <vue-header></vue-header> <div class=space></div> <router-view></router-view> <go-top :bottom='\".3rem\"' :right='\"0\"' :screen-num=1></go-top> </div> "},function(t,e){t.exports=' <div id=content _v-0686bfcb=""> <div class=panel _v-0686bfcb=""> <div class="top clear" _v-0686bfcb=""> <div class=title _v-0686bfcb=""> <p _v-0686bfcb="">{{title}}</p> </div> <div class=create_at _v-0686bfcb="">发表于 {{create_at|last_reply_at}}</div> <div class=tab _v-0686bfcb="">{{data|tabName}}</div> </div> <div class="content clear" _v-0686bfcb=""> <div class="author clear" v-link="{name:\'user\',params:{username:author.loginname}}" _v-0686bfcb=""> <img :src=author.avatar_url _v-0686bfcb=""> <span _v-0686bfcb="">{{author.loginname}}</span> </div> <div class=main-content v-html=content _v-0686bfcb=""> </div> </div> <div class=replies_count _v-0686bfcb=""> <div class=count _v-0686bfcb="">共{{reply_count}}条回复</div> </div> <div class=replies _v-0686bfcb=""> <div class=reply v-for="reply in replies" _v-0686bfcb=""> <div class="author clear" v-link="{name:\'user\',params:{username:reply.author.loginname}}" _v-0686bfcb=""> <img :src=reply.author.avatar_url _v-0686bfcb=""> <span class=name _v-0686bfcb="">{{reply.author.loginname}}</span> <span class=create_at _v-0686bfcb="">{{$index}}楼&nbsp;&nbsp;&nbsp;{{reply.create_at|last_reply_at}}</span> </div> <div class=content v-html=reply.content _v-0686bfcb=""> </div> </div> </div> </div> </div> '},function(t,e){t.exports=' <div id=userpage _v-205c9de9=""> <div class="introduction clear" _v-205c9de9=""> <img :src=user.avatar_url _v-205c9de9=""> <span class=username _v-205c9de9="">{{user.loginname}}</span> <span class=create_at _v-205c9de9="">{{user.create_at|last_reply_at}}加入cnodejs</span> <span class=score _v-205c9de9="">个人积分：{{user.score}}</span> </div> <div class=recent _v-205c9de9=""> <div class="tab clear" _v-205c9de9=""> <div class=replies_tab @click=changeTab(&quot;recent_replies&quot;) :class="{\'active\':this.active==this.user.recent_replies}" _v-205c9de9=""> 最近回复 </div> <div class=topics_tab @click=changeTab(&quot;recent_topics&quot;) :class="{\'active\':this.active==this.user.recent_topics}" _v-205c9de9=""> 最近发表 </div> </div> <div class="content clear" _v-205c9de9=""> <div v-for="item in active" class="item clear" _v-205c9de9=""> <img :src=item.author.avatar_url v-link="{name:\'user\',params:{username:item.author.loginname}}" @click=changeUser(item.author.loginname) _v-205c9de9=""> <div class=title v-link="{name:\'topic\',params:{id:item.id}}" _v-205c9de9=""> {{item.title}} </div> <div class=last_reply_at _v-205c9de9=""> 最近回复：{{item.last_reply_at|last_reply_at}} </div> </div> </div> </div> </div> '},function(t,e){t.exports=' <div id=topics _v-2b0d0d42=""> <mt-loadmore :bottom-method=loadMore :top-method=refresh :bottom-pull-text="\'上拉加载更多\'" _v-2b0d0d42=""> <div id=tab class=clear _v-2b0d0d42=""> <div v-for="tab in tabs" _v-2b0d0d42=""> <p class=tab v-link={name:&quot;tab&quot;,params:{tab:tab.en},activeClass:&quot;active&quot;} @click=changeTab(tab.en) _v-2b0d0d42="">{{tab.cn}} </p> </div> </div> <div class=topic v-for="topic in topics" _v-2b0d0d42=""> <img :src=topic.author.avatar_url v-link="{name:\'user\',params:{username:topic.author.loginname}}" _v-2b0d0d42=""> <div class=tab v-bind:class="{\'good\':topic.good||topic.top}" _v-2b0d0d42=""> {{topic|tabName}} </div> <div class=title v-link="{name:\'topic\',params:{id:topic.id}}" _v-2b0d0d42=""> {{topic.title}} </div> <div class=last_reply_at _v-2b0d0d42="">{{topic.last_reply_at|last_reply_at}}</div> <div class=reply_visit _v-2b0d0d42="">{{topic.reply_count}}/{{topic.visit_count}}</div> </div> </mt-loadmore> </div> '},function(t,e){t.exports=' <div id=gotop _v-47d4a33f=""> <div class=btn v-show=show :style={opacity:opacity,top:top,right:right,bottom:bottom,left:left} @click=scroll_To(scrollTo) _v-47d4a33f=""> ↑top{{scrollTop}} </div> </div> '},function(t,e){t.exports=' <div id=header _v-5ccb8baa=""> <img src=https://cnodejs.org/public/images/cnodejs_light.svg alt="" class=logo _v-5ccb8baa=""> </div> '},function(t,e,o){var a,n;o(15),a=o(7),n=o(23),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,o){var a,n;o(16),a=o(8),n=o(24),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,o){var a,n;o(19),a=o(9),n=o(27),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,o){var a,n;o(20),a=o(10),n=o(28),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,o){var a,n;o(17),a=o(12),n=o(25),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)}]);
//# sourceMappingURL=app.abf20d0f56759ea324e1.js.map