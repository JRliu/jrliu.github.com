webpackJsonp([7,6],{0:function(t,o,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=e(8),s=n(i),a=e(92),c=n(a),r=e(91),u=n(r),p=e(10),d=(n(p),e(93)),l=n(d),f=e(7);e(46),s["default"].use(f.Lazyload),e(65),e(12),e(11),e(13),e(64),s["default"].use(l["default"]);var v=new l["default"]({hashbang:!0,transitionOnLoad:!0});v.map({"/welcome":{component:u["default"]},"/":{component:function(t){e.e(0,function(o){var e=[o(80)];t.apply(null,e)}.bind(this))},subRoutes:{"/:tab":{name:"tab",component:e(9)},"/topic/:id":{name:"topic",component:function(t){e.e(1,function(o){var e=[o(81)];t.apply(null,e)}.bind(this))}},"/topic/create":{component:function(t){e.e(3,function(o){var e=[o(82)];t.apply(null,e)}.bind(this))}},"/user/:username":{name:"user",component:function(t){e.e(4,function(o){var e=[o(90)];t.apply(null,e)}.bind(this))}},"/loginIn":{name:"loginIn",component:function(t){e.e(2,function(o){var e=[o(85)];t.apply(null,e)}.bind(this))}},"/message":{name:"message",component:function(t){e.e(5,function(o){var e=[o(87)];t.apply(null,e)}.bind(this))}}}}}),v.redirect({"/":"/welcome","*":"/welcome"}),v.alias({}),v.start(c["default"],"#wrap")},9:function(t,o,e){var n,i;e(56),n=e(25),i=e(72),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)},11:function(t,o,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=e(8),s=n(i);s["default"].filter("tabName",function(t){return 1==t.good?"精华":1==t.top?"置顶":"share"==t.tab?"分享":"ask"==t.tab?"提问":"job"==t.tab?"招聘":void 0}),s["default"].filter("last_reply_at",function(t){var o=new Date(t);o=o.getTime();var e=new Date;e=e.getTime();var n=e-o,i=6e4,s=60*i,a=24*s,c=30*a,r=12*c,u=n/i,p=n/s,d=n/a,l=n/c,f=n/r;return f>=1?parseInt(f)+"年前":l>=1?parseInt(l)+"个月前":d>=1?parseInt(d)+"天前":p>=1?parseInt(p)+"小时前":u>=1?parseInt(u)+"分钟前":"刚刚"}),s["default"].filter("replaceLink",function(t){return t.replace(/<a.+?>[^@]*(@)([\w\-]+?)\s*<\/a>/gi,'<a href="#!/user/$2">$1$2</a>')})},12:function(t,o){"use strict";!function(t){function o(){var t=n.getBoundingClientRect().width;t>640&&(t=640);var o=t/6.4;n.style.fontSize=o+"px"}var e=t.document,n=e.documentElement;t.addEventListener("resize",function(){o()},!1),t.addEventListener("pageshow",function(t){t.persisted&&o()},!1),o()}(window)},13:function(t,o,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=e(8),s=n(i),a=e(10),c=n(a),r=e(7);e(45),s["default"].use(c["default"]),s["default"].http.interceptors.push(function(t,o){r.Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),o(function(t){r.Indicator.close()})})},25:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(7);e(47),o["default"]={components:{MtLoadmore:n.Loadmore},data:function(){return{tabs:[{cn:"全部",en:"all"},{cn:"精华",en:"good"},{cn:"分享",en:"share"},{cn:"提问",en:"ask"},{cn:"招聘",en:"job"}]}},computed:{tabName:function(){return this.$route.params.tab}},watch:{refreshSwitch:function(t,o){this.refresh()},sidebarGetTopics:function(){var t=this;setTimeout(function(){t.getTopics()},0)}},ready:function(){""==this.topics&&this.getTopics()},methods:{get:function(t,o,e){this.$http({method:"GET",url:"https://cnodejs.org/api/v1/topics",params:{tab:this.$route.params.tab,page:t}}).then(function(t){o(t)})["catch"](function(t){e(t)})},getTopics:function(){var t=this,o=1,e=function(o){t.saveTopics(o.body.data)},n=function(t){console.warn(t)};this.get(o,e,n),this.$nextTick(function(){document.body.scrollTop=0})},loadMore:function(t){var o=this,e=this.page,n=function(e){setTimeout(function(){o.moreTopics(e.body.data),o.$broadcast("onBottomLoaded",t)},300)},i=function(t){console.warn(t)};this.get(e,n,i)},refresh:function(t){var o=this,e=1,n=function(e){setTimeout(function(){o.saveTopics(e.body.data),o.$broadcast("onTopLoaded",t)},300)},i=function(t){console.warn(t)};this.get(e,n,i),document.body.scrollTop=0},tabClass:function(t){return t.top?"topTab":t.good?"good":"share"==t.tab?"share":"ask"==t.tab?"ask":"job"==t.tab?"job":void 0}},vuex:{getters:{topics:function(t){return t.topics},page:function(t){return t.page},refreshSwitch:function(t){return t.refreshTopics},sidebarGetTopics:function(t){return t.getTopics}},actions:{saveTopics:function(t,o){var e=t.dispatch;e("SAVE_TOPICS",o)},moreTopics:function(t,o){var e=t.dispatch;e("MORE_TOPICS",o)}}},route:{data:function(t){"tab"==t.from.name&&this.getTopics(),"tab"!=t.from.name&&this.$nextTick(function(){return document.body.scrollTop=sessionStorage.scrollTop})},deactivate:function(t){sessionStorage.scrollTop=document.body.scrollTop,t.next()}}}},27:function(t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o["default"]={route:{data:function(){var t=this,o=function(){t.$route.router.go("/all")};setTimeout(o,3e3)}}}},28:function(t,o){"use strict"},45:function(t,o){},46:function(t,o){},47:function(t,o){},54:function(t,o){},56:function(t,o){},59:function(t,o){},64:function(t,o){},65:function(t,o){},70:function(t,o){t.exports=' <div id=welcome _v-1d7f8a34=""> <img src=https://cnodejs.org/public/images/cnodejs.svg alt=cnode class="logo slideDown" _v-1d7f8a34=""> </div> '},72:function(t,o){t.exports=' <div id=topics _v-2b0d0d42=""> <mt-loadmore :bottom-method=loadMore :top-method=refresh :bottom-pull-text="\'上拉加载更多\'" _v-2b0d0d42=""> <ul _v-2b0d0d42=""> <li class=topic v-for="topic in topics" v-link="{name:\'topic\',params:{id:topic.id}}" _v-2b0d0d42=""> <div class=top _v-2b0d0d42=""> <div class=tab v-bind:class=[tabClass(topic)] _v-2b0d0d42=""> {{topic|tabName}} </div> <span class=last_reply_at _v-2b0d0d42="">{{topic.last_reply_at|last_reply_at}}</span> </div> <div class=title _v-2b0d0d42=""> {{topic.title}} </div> <div class=footer _v-2b0d0d42=""> <span class=reply_visit _v-2b0d0d42="">{{topic.reply_count}}/{{topic.visit_count}}</span> <span class=author _v-2b0d0d42="">{{topic.author.loginname}}</span> </div> </li> </ul> </mt-loadmore> </div> '},75:function(t,o){t.exports=' <div _v-429fcae2=""> <router-view transition=wrap _v-429fcae2=""></router-view> </div> '},91:function(t,o,e){var n,i;e(54),n=e(27),i=e(70),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)},92:function(t,o,e){var n,i;e(59),n=e(28),i=e(75),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}});
//# sourceMappingURL=app.ed640221b0fb029eaf72.js.map